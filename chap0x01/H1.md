# 第一章实验报告
 ## 实验环境
 ### Linux 发行版基本信息
 输入 ```lsb_release -a```查看到当前发行版是 Ubuntu 20.04.2 
 ![1](/image/发行版.png)
 其他方法：  
 输入```cat /etc/issue```  
 ![2](/image/catetcissue.png)
 输入 ```cat /etc/os-release```
 ![3](/image/os-release.png)
 输入 ```less /etc/os-release```
 ![4](/image/less.png)
 输入```ls /etc/*release*```对比ubuntu20.04和CentOS
 ![5](/image/release对比.png)
 CentOS 上的发行版信息：
 ![6](/image/CentOS发行版.png)
 ```[root@iZuf67duijh500l8spdgxcZ ~]# cat /etc/    os-release  
 NAME="CentOS Linux"  
 VERSION="7 (Core)"  
 ID="centos"  
 ID_LIKE="rhel fedora"  
 VERSION_ID="7"  
 PRETTY_NAME="CentOS Linux 7 (Core)"  
 ANSI_COLOR="0;31"  
 CPE_NAME="cpe:/o:centos:centos:7"  
 HOME_URL="https://www.centos.org/"  
 BUG_REPORT_URL="https://bugs.centos.org/"  
```
 输入 ```uname -a```查看到当前内核版本
 ![7](/image/内核.png)
 其他方法：```cat /proc/version```
 ![8](/image/version.png)
 ```Linux version 5.4.0-65-generic    (buildd@lcy01-amd64-018) (gcc version 9.3.0   (Ubuntu 9.3.0-17ubuntu1~20.04)) #73-Ubuntu SMP Mon Jan 18 17:25:17 UTC 2021 ```   

 CentOS 上的内核版本信息：
 ![9](/image/centos内核.png)
 ```
 [root@iZuf67duijh500l8spdgxcZ ~]# uname -a  
 Linux iZuf67duijh500l8spdgxcZ 3.10.0-1062.18.1.el7.x86_64 #1 SMP Tue Mar 17 23:49:17 UTC 2020 x86_64 x86_64 x86_64 GNU/Linux
 [root@iZuf67duijh500l8spdgxcZ ~]# cat /proc/version
 Linux version 3.10.0-1062.18.1.el7.x86_64 (mockbuild@kbuilder.bsys.centos.org) (gcc version 4.8.5 20150623 (Red Hat 4.8.5-39) (GCC) ) #1 SMP Tue Mar 17 23:49:17 UTC 2020  
 ```
 TIPS:学会用Tab键自动补全  

 ## Virtualbox 安装完 Ubuntu 之后新添加的网卡如何实现系统开机自动启用和自动获取 IP？
 第一步：先在virtualbox中添加网卡 设置为
![10](/image/虚拟机添加网卡.png)
 第二步：命令行中输入 ```ip a```能够看到当前的网卡（添加网卡前）
 ![11](/image/查看ip.png)
 第三步：添加网卡后再次查看ip
 ![12](/image/添加网卡后的信息.png)
 发现新添加的网卡没有自动启用和获取IP  
 于是通过 ```ls /etc/netplan/```找到文件```00-installer-config.yaml```
 ![13](/image/netplan.png)
 第四步：使用vim打开文件```sudo vim /etc/netplan/00-installer-config.yaml```
 ![14](/image/网卡信息.png)
 第五步：发现没有enp0s9，手动添加之后如下图
 ![15](/image/添加enp0s9.png)
 按Esc 左下角输入:wq 保存并退出  

 问题：退出之后再次输入ip a 发现新添加网卡依旧没有自启动  
 解决：需要 ```sudo netplan apply ```  
 实际解决方法是退出虚拟机重新启动后发现网卡可以自动启用和获取IP
 ![16](/image/网卡自启动成功.png)

 ## 如何使用 scp 在「虚拟机和宿主机之间」、「本机和远程 Linux 系统之间」传输文件？

 ### 虚拟机和宿主机之间

 首先在虚拟机上新建文件  
 ```touch test 
 pwd 显示路径：/home/cuc  
 cat test  
 echo "linux chapter 1 virtual machine" > test  
 cat test
 linux chapter 1 virtual machine  
 ```
 ![17](/image/虚拟机新建文件.png)
 将文件传输到本机D盘 
 ```scp cuc@192.168.56.101:/home/cuc/test ./```
 
 ![18](/image/虚拟机到宿主机.png)
 本地已有在虚拟机上新建的test文件  
 ![19](/image/虚拟机宿主机传输成功.png)

 ### 本机和远程Linux系统之间
 在远程CentOS上新建文件 路径为/root
 ![20](/image/centos新建文件.png)
 将文件传输到本机上```scp root@101.133.149.223:/root/test ./```
 ![21](/image/本机和远程.png)
 本地已有在远程CentOS上新建的test文件
 ![22](/image/本地test.png)
 
 ## 配置 SSH 免密登录

 ```ssh-keygen -t rsa ```生成公私钥对

 ![23](/image/生成公私钥对.png)
 先执行 
 ![24](/image/解决sshcopyid.png)
 就可以在终端里使用```ssh-copy-id```   
 再输入 ```ssh-copy-id cuc@192.168.56.101```
 输入一遍密码后，之后就能免密登录  
 ![25](/image/配置成功.png)

## 参考：
关于linux命令使用方法：https://www.linuxprobe.com/linux-common.html   
关于虚拟网卡配置：https://blog.csdn.net/xiongyangg/article/details/110206220   
关于vim如何保存退出：https://blog.csdn.net/qq_32281471/article/details/91350744   
第三次网课回放2022.03.07：http://courses.cuc.edu.cn/course/82669/learning-activity#/249100     
关于OPENSSH管理：https://docs.microsoft.com/zh-cn/windows-server/administration/openssh/openssh_keymanagement  
关于无法在windows powershell中使用ssh-copy-id的解决方法：https://blog.csdn.net/Defiler_Lee/article/details/116278442?spm=1001.2101.3001.6650.2&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-2.pc_relevant_paycolumn_v3&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-2.pc_relevant_paycolumn_v3&utm_relevant_index=5  
